<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÁæΩÊØõÁêÉÊØîËµõËÆ°ÂàÜÁ≥ªÁªü - FlyScore</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
</head>
<body>
    <div class="container-fluid mt-3">
        <div class="row">
            <!-- Â∑¶‰æßÔºöËÆæÁΩÆ‰∏éÊéßÂà∂ -->
            <div class="col-md-3 settings-panel">
                <div class="card mb-3">
                    <div class="card-header bg-primary text-white">ÊØîËµõËÆæÁΩÆ</div>
                    <div class="card-body">
                        <div class="mb-2">
                            <label class="form-label">ÊØîËµõÊ®°Âºè</label>
                            <select id="matchMode" class="form-select">
                                <option value="MS">Áî∑Âçï (MS)</option>
                                <option value="WS">Â•≥Âçï (WS)</option>
                                <option value="MD">Áî∑Âèå (MD)</option>
                                <option value="WD">Â•≥Âèå (WD)</option>
                                <option value="XD">Ê∑∑Âèå (XD)</option>
                            </select>
                        </div>
                        
                        <!-- Èòü‰ºç A ËÆæÁΩÆ -->
                        <div class="mb-2 border-bottom pb-2">
                            <label class="form-label fw-bold text-danger">Team A (Â∑¶‰æß)</label>
                            <div class="input-group mb-1">
                                <input type="color" id="teamAColor" class="form-control form-control-color" value="#dc3545" title="Team A Color" style="max-width: 40px; padding: 0.25rem;">
                                <input type="text" id="teamAName" class="form-control" placeholder="Èòü‰ºçÂêçÁß∞ (Â¶Ç: ‰∏≠ÂõΩÈòü)">
                            </div>
                            <div class="row g-1">
                                <div class="col"><input type="text" id="playerA1" class="form-control form-control-sm" placeholder="ÁêÉÂëò1"></div>
                                <div class="col"><input type="text" id="playerA2" class="form-control form-control-sm" placeholder="ÁêÉÂëò2 (ÂèåÊâì)"></div>
                            </div>
                        </div>

                        <!-- Èòü‰ºç B ËÆæÁΩÆ -->
                        <div class="mb-2 border-bottom pb-2">
                            <label class="form-label fw-bold text-primary">Team B (Âè≥‰æß)</label>
                            <div class="input-group mb-1">
                                <input type="color" id="teamBColor" class="form-control form-control-color" value="#0d6efd" title="Team B Color" style="max-width: 40px; padding: 0.25rem;">
                                <input type="text" id="teamBName" class="form-control" placeholder="Èòü‰ºçÂêçÁß∞ (Â¶Ç: Êó•Êú¨Èòü)">
                            </div>
                            <div class="row g-1">
                                <div class="col"><input type="text" id="playerB1" class="form-control form-control-sm" placeholder="ÁêÉÂëò1"></div>
                                <div class="col"><input type="text" id="playerB2" class="form-control form-control-sm" placeholder="ÁêÉÂëò2 (ÂèåÊâì)"></div>
                            </div>
                        </div>

                        <!-- ËßÑÂàôËÆæÁΩÆ -->
                        <div class="mb-2">
                            <label class="form-label">ËßÑÂàô</label>
                            <div class="input-group input-group-sm mb-1">
                                <span class="input-group-text">Â±ÄÊï∞</span>
                                <input type="number" id="maxSets" class="form-control" value="3">
                                <span class="input-group-text">ËÉú</span>
                            </div>
                            <div class="input-group input-group-sm mb-1">
                                <span class="input-group-text">ÊØèÂ±Ä</span>
                                <input type="number" id="pointsPerSet" class="form-control" value="21">
                                <span class="input-group-text">ÂàÜ</span>
                            </div>
                            <div class="input-group input-group-sm">
                                <span class="input-group-text">Â∞ÅÈ°∂</span>
                                <input type="number" id="capPoints" class="form-control" value="30">
                                <span class="input-group-text">ÂàÜ</span>
                            </div>
                        </div>

                        <button id="btnStartMatch" class="btn btn-success w-100">ÂºÄÂßã/ÈáçÁΩÆÊØîËµõ</button>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="card-header bg-info text-white">Ëµõ‰∫ã‰ø°ÊÅØ</div>
                    <div class="card-body">
                        <div class="mb-2">
                            <input type="text" id="eventName" class="form-control form-control-sm mb-1" placeholder="Ëµõ‰∫ãÂêçÁß∞">
                            <input type="text" id="matchStage" class="form-control form-control-sm mb-1" placeholder="ÊØîËµõÈò∂ÊÆµ (Â¶Ç: ÂÜ≥Ëµõ)">
                            <input type="text" id="matchVenue" class="form-control form-control-sm mb-1" placeholder="ÊØîËµõÂú∞ÁÇπ">
                        </div>
                        <div class="mb-2">
                            <div class="row g-1">
                                <div class="col"><input type="text" id="umpireName" class="form-control form-control-sm" placeholder="‰∏ªË£ÅÂà§"></div>
                                <div class="col"><input type="text" id="serviceJudgeName" class="form-control form-control-sm" placeholder="ÂâØË£ÅÂà§"></div>
                            </div>
                        </div>
                        <div class="mb-2">
                            <label class="form-label small text-muted">Êó∂Èó¥ (Ëá™Âä®/ÊâãÂä®)</label>
                            <input type="datetime-local" id="startTime" class="form-control form-control-sm mb-1">
                            <input type="datetime-local" id="endTime" class="form-control form-control-sm">
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">ÊéßÂà∂Âè∞</div>
                    <div class="card-body d-grid gap-2">
                        <button id="btnUndo" class="btn btn-secondary" disabled>Êí§ÈîÄ‰∏ä‰∏ÄÊ≠•</button>
                        <button id="btnSwapSides" class="btn btn-warning" disabled>‰∫§Êç¢Âú∫Âú∞</button>
                        <button id="btnChangeServer" class="btn btn-info" disabled>ÊâãÂä®Êç¢ÂèëÁêÉÊùÉ</button>
                    </div>
                </div>
            </div>

            <!-- Âè≥‰æßÔºöÊØîÂàÜ‰∏éÂú∫Âú∞ -->
            <div class="col-md-9">
                <div class="row justify-content-center">
                    <!-- ‰∏≠Èó¥ÔºöËÆ°ÂàÜÊùø -->
                    <div class="col-12 text-center">
                        <div class="scoreboard card mb-3">
                            <div class="card-body">
                                <div class="row align-items-center">
                                    <!-- Team A Score -->
                                    <div class="col-5 team-score-area team-a-area" id="areaTeamA">
                                        <h3 id="displayTeamA">Team A</h3>
                                        <div class="score-display display-1 fw-bold text-danger" id="scoreA">0</div>
                                        <div class="sets-display h4">Sets: <span id="setsA">0</span></div>
                                        <button class="btn btn-outline-danger btn-lg w-100 mt-2 btn-add-score" data-team="A" disabled>+1 ÂàÜ</button>
                                    </div>
                                    
                                    <!-- VS -->
                                    <div class="col-2">
                                        <div class="h2 text-muted">VS</div>
                                        <div id="matchStatus" class="badge bg-secondary text-wrap" style="width: 6rem;">Ready</div>
                                    </div>

                                    <!-- Team B Score -->
                                    <div class="col-5 team-score-area team-b-area" id="areaTeamB">
                                        <h3 id="displayTeamB">Team B</h3>
                                        <div class="score-display display-1 fw-bold text-primary" id="scoreB">0</div>
                                        <div class="sets-display h4">Sets: <span id="setsB">0</span></div>
                                        <button class="btn btn-outline-primary btn-lg w-100 mt-2 btn-add-score" data-team="B" disabled>+1 ÂàÜ</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ë£ÅÂà§ÊèêÁ§∫‰ø°ÊÅØ -->
                        <div class="alert alert-warning d-none" id="refereeAlert" role="alert">
                            <strong>Ë£ÅÂà§ÊèêÁ§∫:</strong> <span id="refereeMessage"></span>
                        </div>
                    </div>
                </div>

                <div class="row justify-content-center mt-3">
                    <!-- ‰∏ãÊñπÔºöÂú∫Âú∞ÂèØËßÜÂåñ -->
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <span>Âú∫Âú∞ËßÜÂõæ (Ëá™Âä®Á´ô‰Ωç)</span>
                                <div>
                                    <button id="btnSwapPlayersA" class="btn btn-sm btn-outline-danger me-2" disabled>Êç¢ A Á´ô‰Ωç</button>
                                    <button id="btnSwapPlayersB" class="btn btn-sm btn-outline-primary" disabled>Êç¢ B Á´ô‰Ωç</button>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <div class="court-container">
                                    <!-- ÁæΩÊØõÁêÉÂú∫Âú∞ CSS ÁªòÂà∂ -->
                                    <div class="court" id="court">
                                        <!-- Âü∫Á°ÄÁ∫øÊù° -->
                                        <div class="court-line line-net"></div>
                                        <div class="court-line line-center-left"></div>
                                        <div class="court-line line-center-right"></div>
                                        
                                        <!-- ÂèëÁêÉÁ∫ø -->
                                        <div class="court-line line-short-service-a"></div>
                                        <div class="court-line line-short-service-b"></div>
                                        <div class="court-line line-long-service-doubles-a"></div>
                                        <div class="court-line line-long-service-doubles-b"></div>
                                        
                                        <!-- ÂçïÊâìËæπÁ∫ø -->
                                        <div class="court-line line-side-singles-top"></div>
                                        <div class="court-line line-side-singles-bottom"></div>

                                        <!-- Âä®ÊÄÅÈ´ò‰∫ÆÂå∫Âüü (Áî±JSÊéßÂà∂) -->
                                        <div id="validAreaHighlight"></div>
                                        <div id="serverAreaHighlight" class="server-area-highlight"></div>
                                        <div id="serviceAreaHighlight" class="service-area-highlight"></div>

                                        <!-- 4‰∏™ÂçäÂå∫ (Áî®‰∫éÊòæÁ§∫ÁêÉÂëò‰ΩçÁΩÆ) -->
                                        <!-- Â∑¶‰æß (ÈÄöÂ∏∏ Team A) -->
                                        <div class="court-zone zone-tl" id="zone_0_1"></div> <!-- Top Left (Odd) -->
                                        <div class="court-zone zone-bl" id="zone_0_0"></div> <!-- Bottom Left (Even) -->
                                        
                                        <!-- Âè≥‰æß (ÈÄöÂ∏∏ Team B) -->
                                        <div class="court-zone zone-tr" id="zone_1_1"></div> <!-- Top Right (Even) -->
                                        <div class="court-zone zone-br" id="zone_1_0"></div> <!-- Bottom Right (Odd) -->
                                        
                                        <!-- ÈÅÆÁΩ©Â±Ç -->
                                        <div id="courtOverlay" class="court-overlay d-flex justify-content-center align-items-center">
                                            <h3 class="text-white bg-dark p-2 rounded opacity-75">ÂáÜÂ§á‰∏≠...</h3>
                                        </div>
                                    </div>
                                </div>
                                <div class="p-2 text-muted small">
                                    <p>ËØ¥ÊòéÔºö<br>
                                    üè∏ = ÂèëÁêÉÊñπ<br>
                                    <span class="text-warning fw-bold" style="text-shadow: 0px 0px 1px black;">ÈªÑËâ≤Âå∫Âüü</span> = ÂèëÁêÉËÄÖÁ´ô‰Ωç<br>
                                    <span class="text-danger fw-bold">Á∫¢Ëâ≤Âå∫Âüü</span> = Êé•ÂèëÁêÉÊúâÊïàÂå∫<br>
                                    <span class="text-danger">Á∫¢Ëâ≤Ê°ÜÁ∫ø</span> = ÂáªÁêÉÊúâÊïàÂå∫<br>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
